{
    "docs": [
        {
            "location": "/", 
            "text": "Welcome\n\n\nThis site contains a miscellaneous collection of my notes and thoughts.", 
            "title": "Home"
        }, 
        {
            "location": "/#welcome", 
            "text": "This site contains a miscellaneous collection of my notes and thoughts.", 
            "title": "Welcome"
        }, 
        {
            "location": "/colour_contrast/", 
            "text": "Understanding colour contrast\n\n\nThe Web Content Accessibility Guidelines (WCAG) 2.0 requires that all\ntext must have a sufficiently different colour from the background\ncolour. This is to ensure that everyone can read the text, even if\nthey are colour blind. The \nWCAG site defines what colour contrast\nvalues are\nrequired\n\nbut I've always wondered exactly what those numbers mean. This page\ntries to explain the maths behind it in some detail. For an\ninteractive guide to colour contrast, see the \ncolour contrast interactive guide\n.\n\n\nColour contrast\n\n\nFirst of all, how is colour contrast calculated? \n\nColor contrast is defined by WCAG\n as\n\n\n\n\nwhere\n\n\n\n\nL1\n is the relative luminance of the lighter of the two colours, and\n\n\nL2\n is the relative luminance of the darker of the two colours\n\n\n\n\nWe will get to the question, \"What is relative luminance?\" in a moment but first we want\nto understand what this formula means. If we ignore the \n+ 0.05\n sections, then it's just a\nratio between the relative luminance of each colour. A colour contrast of 2 means\none colour has twice the relative luminance of the other. Coming back to the \n+ 0.05\n, black\nhas a relative luminance of zero. You can't divide by zero and if you have two colours \nthat are almost but not quite black, one might be three times as bright as the other and they\nstill look basically the same. So adding 0.05 to both values stabilises the formula\naround zero.\n\n\nRelative luminance\n\n\nNow we need to tackle relative luminance. Relative luminance represents how bright a colour\nis relative to other colours and there are a few steps in calculating it.\nColours are often represented as three numbers between 0 and 255, one for red, one for green,\nand one for blue. While this is relatively convenient for defining colours, it's not so\nconvenient when doing math with them. So first of all, the colours values are converted to numbers\nbetween 0 and 1 by dividing by 255. 0 means \"none of this colour\" and 1 means \"as much of this\ncolour as you can\".\n\n\nNow we have our red, green and blue values between 0 and 1, we need to convert them from what's known as\ngamma-compressed RGB (or what I'm going to call normal RGB) to linear RGB. \nIt's not super important how this is calculated, but the formula is\n\n\n\n\nwhere \nC\n is each of the individual red, green and blue values.\nIf I just look at that formula, I have no idea what it means. So here's a graph instead.\n\n\n\n\n\n\n\n\nwindow.onload = function() {setup_linear_rgb('linear_rbg_chart')}\n\n\n\nIt looks like someone has drawn a line from (0,0) to (1,1) and then just \ntugged it down a bit. Okay. As I said, it's not overly important to understand this formula\nto understand colour contrast, but for a detailed explanation, see \n\nthe wikipedia page for sRGB\n.\n\n\nNow we have our linear RGB values, we can calculate the relative luminance as\n\n\n\n\nSo the relative luminance is the weighted average of the linear RGB values, with\ngreen having the highest weight, then red, then blue. This is because green light\nhas the highest contribution to perceived brightness by humans.\n\n\nConclusion\n\n\nThe main reason to care about colour contrast is to ensure that the\ncolours we choose have sufficiently high contrast.\nSo when trying to increase the colour contrast of a pair of colours,\nit's worth noting that:\n\n\n\n\nOnly the brightness of each colour matters, their relative hue does not\n\n\nEach of the three colour channels act independently\n\n\nChanging the green channel will have the greatest effect, then red, then blue\n\n\nChanging a brighter channel will have a greater effect than changing a darker one\n\n\n\n\nReferences\n\n\n\n\nWCAG 2.0\n\n\ncolour contrast guidelines (\nhttps://www.w3.org/TR/WCAG20/#visual-audio-contrast\n)\n\n\ndefinition of \"contrast ratio\" (\nhttps://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html#contrast-ratiodef\n)\n\n\ndefinition of \"relative luminance\" (\nhttps://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n)\n\n\n\n\n\n\nWikipedia \n\n\nrelative luminance (\nhttps://en.wikipedia.org/wiki/Relative_luminance\n)\n\n\nsRBG (\nhttps://en.wikipedia.org/wiki/SRGB\n)\n\n\n\n\n\n\nFormulas produced by \nhttp://latex2png.com/", 
            "title": "Colour contrast"
        }, 
        {
            "location": "/colour_contrast/#understanding-colour-contrast", 
            "text": "The Web Content Accessibility Guidelines (WCAG) 2.0 requires that all\ntext must have a sufficiently different colour from the background\ncolour. This is to ensure that everyone can read the text, even if\nthey are colour blind. The  WCAG site defines what colour contrast\nvalues are\nrequired \nbut I've always wondered exactly what those numbers mean. This page\ntries to explain the maths behind it in some detail. For an\ninteractive guide to colour contrast, see the  colour contrast interactive guide .", 
            "title": "Understanding colour contrast"
        }, 
        {
            "location": "/colour_contrast/#colour-contrast", 
            "text": "First of all, how is colour contrast calculated?  Color contrast is defined by WCAG  as   where   L1  is the relative luminance of the lighter of the two colours, and  L2  is the relative luminance of the darker of the two colours   We will get to the question, \"What is relative luminance?\" in a moment but first we want\nto understand what this formula means. If we ignore the  + 0.05  sections, then it's just a\nratio between the relative luminance of each colour. A colour contrast of 2 means\none colour has twice the relative luminance of the other. Coming back to the  + 0.05 , black\nhas a relative luminance of zero. You can't divide by zero and if you have two colours \nthat are almost but not quite black, one might be three times as bright as the other and they\nstill look basically the same. So adding 0.05 to both values stabilises the formula\naround zero.", 
            "title": "Colour contrast"
        }, 
        {
            "location": "/colour_contrast/#relative-luminance", 
            "text": "Now we need to tackle relative luminance. Relative luminance represents how bright a colour\nis relative to other colours and there are a few steps in calculating it.\nColours are often represented as three numbers between 0 and 255, one for red, one for green,\nand one for blue. While this is relatively convenient for defining colours, it's not so\nconvenient when doing math with them. So first of all, the colours values are converted to numbers\nbetween 0 and 1 by dividing by 255. 0 means \"none of this colour\" and 1 means \"as much of this\ncolour as you can\".  Now we have our red, green and blue values between 0 and 1, we need to convert them from what's known as\ngamma-compressed RGB (or what I'm going to call normal RGB) to linear RGB. \nIt's not super important how this is calculated, but the formula is   where  C  is each of the individual red, green and blue values.\nIf I just look at that formula, I have no idea what it means. So here's a graph instead.    window.onload = function() {setup_linear_rgb('linear_rbg_chart')}  It looks like someone has drawn a line from (0,0) to (1,1) and then just \ntugged it down a bit. Okay. As I said, it's not overly important to understand this formula\nto understand colour contrast, but for a detailed explanation, see  the wikipedia page for sRGB .  Now we have our linear RGB values, we can calculate the relative luminance as   So the relative luminance is the weighted average of the linear RGB values, with\ngreen having the highest weight, then red, then blue. This is because green light\nhas the highest contribution to perceived brightness by humans.", 
            "title": "Relative luminance"
        }, 
        {
            "location": "/colour_contrast/#conclusion", 
            "text": "The main reason to care about colour contrast is to ensure that the\ncolours we choose have sufficiently high contrast.\nSo when trying to increase the colour contrast of a pair of colours,\nit's worth noting that:   Only the brightness of each colour matters, their relative hue does not  Each of the three colour channels act independently  Changing the green channel will have the greatest effect, then red, then blue  Changing a brighter channel will have a greater effect than changing a darker one", 
            "title": "Conclusion"
        }, 
        {
            "location": "/colour_contrast/#references", 
            "text": "WCAG 2.0  colour contrast guidelines ( https://www.w3.org/TR/WCAG20/#visual-audio-contrast )  definition of \"contrast ratio\" ( https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html#contrast-ratiodef )  definition of \"relative luminance\" ( https://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef )    Wikipedia   relative luminance ( https://en.wikipedia.org/wiki/Relative_luminance )  sRBG ( https://en.wikipedia.org/wiki/SRGB )    Formulas produced by  http://latex2png.com/", 
            "title": "References"
        }, 
        {
            "location": "/colour_contrast_interactive/", 
            "text": "Understanding colour contrast interactively\n\n\nTrying to understand colour contrast just from the formulas is\nhard. But trying to create an interactive graph for colour contrast is\nalso hard. Each of the colours has 3 different inputs plus the\ncolour contrast itself gives a total of 7 dimensions. It's really hard\nto visualize 7 dimensions.\n\n\nBut the colour contrast is basically just the ratio between the\nrelative luminance of each colour and graphing the relative luminance\nonly requires 4 dimensions. So the following graph lets you pick a\nspecific value for one of red, green or blue and then plots the other\ntwo colours and the relative luminance on a 3D graph. When comparing\nagainst black, a higher relative luminance gives a higher colour contrast.\nAlso, the slope of the surface gives an idea of how much a change in\none colour channel will effect the colour contrast. A steep slope means\na small change will have a comparatively large effect on the final colour\ncontrast.\n\n\nThe colour values in the plot are reported as numbers between 0 and 1.\nMultiply these numbers by 255 to convert them to normal 8-bit values.\n\n\n\n\n\n\n\n\n\n  window.onload = function() {setup_relative_luminance('visualization')};\n\n\n\n\n\n\nRed\n\n\n\n\nSet red\n\n\nGreen\n\n\n\n\nSet green\n\n\nBlue\n\n\n\n\nSet blue\n\n\n\n\nReset camera", 
            "title": "Colour contrast interactive"
        }, 
        {
            "location": "/colour_contrast_interactive/#understanding-colour-contrast-interactively", 
            "text": "Trying to understand colour contrast just from the formulas is\nhard. But trying to create an interactive graph for colour contrast is\nalso hard. Each of the colours has 3 different inputs plus the\ncolour contrast itself gives a total of 7 dimensions. It's really hard\nto visualize 7 dimensions.  But the colour contrast is basically just the ratio between the\nrelative luminance of each colour and graphing the relative luminance\nonly requires 4 dimensions. So the following graph lets you pick a\nspecific value for one of red, green or blue and then plots the other\ntwo colours and the relative luminance on a 3D graph. When comparing\nagainst black, a higher relative luminance gives a higher colour contrast.\nAlso, the slope of the surface gives an idea of how much a change in\none colour channel will effect the colour contrast. A steep slope means\na small change will have a comparatively large effect on the final colour\ncontrast.  The colour values in the plot are reported as numbers between 0 and 1.\nMultiply these numbers by 255 to convert them to normal 8-bit values.    \n  window.onload = function() {setup_relative_luminance('visualization')};   Red   Set red  Green   Set green  Blue   Set blue   Reset camera", 
            "title": "Understanding colour contrast interactively"
        }
    ]
}